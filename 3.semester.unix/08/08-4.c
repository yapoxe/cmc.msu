/*
На стандартном потоке ввода задается целое число N (N > 0). 
Требуется создать N - 1 процессов так, чтобы первый процесс (процесс-родитель) вывел на стандартный поток вывода число 1, 
второй процесс (его сын) вывел на стандартный поток вывода число 2, третий процесс (сын сына) вывел 3 и так далее.
Вывод должен быть таким, чтобы всегда на стандартном потоке вывода оказывалась последовательность 1 2 3 ... N, 
записанная в одну строку строго с одним пробелом между числами. В конце вывода должен находиться символ \n. 
Дополнительные пробелы в начале или конце строки не допускаются. Для вывода использовать средства высокого уровня.
Процесс-родитель должен завершаться самым последним из всех процессов.
Автор:
Владимир: https://vk.com/yapoxe
*/

#include <stdio.h>
#include <stdlib.h>
#include <sys/wait.h>
#include <fcntl.h>
#include <unistd.h>

int main(int argc, char **argv)
{
    int i;
    int n;
    scanf("%d", &n);
    for(i = 1; i <= n; i++){
        setbuf(stdout, NULL);
        if(i == n){
            printf("%d\n", i);
            return 0;
        }
        printf("%d ", i);
        if(fork()){
            wait(NULL);
            break;
        }
    }
    return 0;
}