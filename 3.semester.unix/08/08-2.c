/*
Процесс-отец (то есть процесс, который запускается из командной строки) создает процесс-сына, 
который в свою очеред создает своего сына (внука главного процесса).
Процесс-отец должен вывести на стандартный поток вывода число 1, сын - число 2, а внук - число 3.
Вывод должен быть таким, чтобы всегда на стандартном потоке вывода оказывалась последовательность 3 2 1, 
записанная в одну строку строго с одним пробелом между числами. 
Пробел в начале и конце строки не допускается. В конце вывода должен находиться символ \n. Для вывода использовать средства высокого уровня.
Процесс-родитель должен завершаться самым последним из всех процессов.
Автор:
Владимир: https://vk.com/yapoxe
*/

#include <stdio.h>
#include <stdlib.h>
#include <sys/wait.h>
#include <fcntl.h>
#include <unistd.h>

enum { PROCESS_NUM = 3 };

int main(void)
{
    int i;
    for(i = 1; i < PROCESS_NUM; i++) {
        if(!fork()) {
        } else {
            break;
        }
    }
    wait(NULL);
    if(i > 1){
        printf("%d ", i);
    } else {
        printf("%d\n", i);
    }
    return 0;
}